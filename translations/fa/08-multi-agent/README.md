<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "1a008c204051cba8d0e253b75f261c41",
  "translation_date": "2025-08-30T13:34:57+00:00",
  "source_file": "08-multi-agent/README.md",
  "language_code": "fa"
}
-->
[![طراحی چندعاملی](../../../translated_images/lesson-8-thumbnail.278a3e4a59137d625df92de3f885d2da2a92b1f7017abba25a99fb25edd83a55.fa.png)](https://youtu.be/V6HpE9hZEx0?si=A7K44uMCqgvLQVCa)

> _(برای مشاهده ویدئوی این درس روی تصویر بالا کلیک کنید)_

# الگوهای طراحی چندعاملی

به محض اینکه شروع به کار روی پروژه‌ای کنید که شامل چند عامل است، باید الگوی طراحی چندعاملی را در نظر بگیرید. با این حال، ممکن است بلافاصله مشخص نباشد که چه زمانی باید به چند عامل تغییر دهید و مزایای آن چیست.

## مقدمه

در این درس، به دنبال پاسخ به سوالات زیر هستیم:

- چه سناریوهایی برای استفاده از چند عامل مناسب هستند؟
- مزایای استفاده از چند عامل نسبت به یک عامل منفرد که چندین کار را انجام می‌دهد چیست؟
- اجزای اصلی پیاده‌سازی الگوی طراحی چندعاملی چیست؟
- چگونه می‌توانیم تعاملات بین عوامل مختلف را مشاهده کنیم؟

## اهداف یادگیری

پس از این درس، شما باید بتوانید:

- سناریوهایی که در آن‌ها چند عامل کاربرد دارند را شناسایی کنید.
- مزایای استفاده از چند عامل نسبت به یک عامل منفرد را تشخیص دهید.
- اجزای اصلی پیاده‌سازی الگوی طراحی چندعاملی را درک کنید.

تصویر بزرگ‌تر چیست؟

*چند عامل‌ها یک الگوی طراحی هستند که به چندین عامل اجازه می‌دهند با یکدیگر همکاری کنند تا به یک هدف مشترک دست یابند.*

این الگو به طور گسترده در زمینه‌های مختلفی از جمله رباتیک، سیستم‌های خودمختار و محاسبات توزیع‌شده استفاده می‌شود.

## سناریوهایی که در آن‌ها چند عامل کاربرد دارند

پس چه سناریوهایی برای استفاده از چند عامل مناسب هستند؟ پاسخ این است که سناریوهای زیادی وجود دارند که در آن‌ها استفاده از چند عامل مفید است، به ویژه در موارد زیر:

- **حجم کاری بزرگ**: حجم کاری بزرگ می‌تواند به وظایف کوچکتر تقسیم شود و به عوامل مختلف اختصاص یابد، که این امر پردازش موازی و تکمیل سریع‌تر را ممکن می‌سازد. مثالی از این مورد، پردازش داده‌های بزرگ است.
- **وظایف پیچیده**: وظایف پیچیده، مانند حجم کاری بزرگ، می‌توانند به زیر وظایف کوچکتر تقسیم شوند و به عوامل مختلفی که در جنبه خاصی از وظیفه تخصص دارند، اختصاص یابند. مثالی خوب از این مورد، وسایل نقلیه خودمختار است که در آن عوامل مختلف مدیریت ناوبری، تشخیص موانع و ارتباط با وسایل نقلیه دیگر را بر عهده دارند.
- **تخصص‌های متنوع**: عوامل مختلف می‌توانند تخصص‌های متنوعی داشته باشند که به آن‌ها اجازه می‌دهد جنبه‌های مختلف یک وظیفه را به طور موثرتری نسبت به یک عامل منفرد مدیریت کنند. مثالی خوب از این مورد، حوزه بهداشت و درمان است که در آن عوامل می‌توانند مدیریت تشخیص، برنامه‌های درمانی و نظارت بر بیمار را بر عهده داشته باشند.

## مزایای استفاده از چند عامل نسبت به یک عامل منفرد

یک سیستم عامل منفرد ممکن است برای وظایف ساده به خوبی کار کند، اما برای وظایف پیچیده‌تر، استفاده از چند عامل می‌تواند چندین مزیت ارائه دهد:

- **تخصصی‌سازی**: هر عامل می‌تواند برای یک وظیفه خاص تخصصی شود. عدم تخصص در یک عامل منفرد به این معناست که شما عاملی دارید که می‌تواند همه کارها را انجام دهد اما ممکن است در مواجهه با یک وظیفه پیچیده دچار سردرگمی شود. به عنوان مثال، ممکن است وظیفه‌ای را انجام دهد که برای آن مناسب‌ترین نیست.
- **مقیاس‌پذیری**: افزودن عوامل بیشتر به سیستم آسان‌تر از بارگذاری بیش از حد یک عامل منفرد است.
- **تحمل خطا**: اگر یک عامل از کار بیفتد، عوامل دیگر می‌توانند به کار خود ادامه دهند و قابلیت اطمینان سیستم را تضمین کنند.

بیایید یک مثال بزنیم: فرض کنید می‌خواهید برای یک کاربر یک سفر رزرو کنید. یک سیستم عامل منفرد باید تمام جنبه‌های فرآیند رزرو سفر را مدیریت کند، از پیدا کردن پروازها گرفته تا رزرو هتل‌ها و خودروهای اجاره‌ای. برای انجام این کار با یک عامل منفرد، عامل باید ابزارهایی برای مدیریت تمام این وظایف داشته باشد. این می‌تواند منجر به یک سیستم پیچیده و یکپارچه شود که نگهداری و مقیاس‌پذیری آن دشوار است. از سوی دیگر، یک سیستم چندعاملی می‌تواند عوامل مختلفی داشته باشد که در پیدا کردن پروازها، رزرو هتل‌ها و خودروهای اجاره‌ای تخصص دارند. این امر سیستم را ماژولارتر، نگهداری‌پذیرتر و مقیاس‌پذیرتر می‌کند.

این را با یک آژانس مسافرتی که به صورت یک فروشگاه کوچک خانوادگی اداره می‌شود در مقابل یک آژانس مسافرتی که به صورت یک فرانچایز اداره می‌شود مقایسه کنید. فروشگاه خانوادگی یک عامل منفرد دارد که تمام جنبه‌های فرآیند رزرو سفر را مدیریت می‌کند، در حالی که فرانچایز عوامل مختلفی دارد که جنبه‌های مختلف فرآیند رزرو سفر را مدیریت می‌کنند.

## اجزای اصلی پیاده‌سازی الگوی طراحی چندعاملی

قبل از اینکه بتوانید الگوی طراحی چندعاملی را پیاده‌سازی کنید، باید اجزای اصلی که این الگو را تشکیل می‌دهند، درک کنید.

بیایید این موضوع را با نگاه دوباره به مثال رزرو سفر برای یک کاربر ملموس‌تر کنیم. در این مورد، اجزای اصلی شامل موارد زیر می‌شوند:

- **ارتباط بین عوامل**: عوامل مربوط به پیدا کردن پروازها، رزرو هتل‌ها و خودروهای اجاره‌ای باید با یکدیگر ارتباط برقرار کنند و اطلاعاتی درباره ترجیحات و محدودیت‌های کاربر به اشتراک بگذارند. شما باید پروتکل‌ها و روش‌های این ارتباط را تعیین کنید. به طور مشخص، این بدان معناست که عامل مربوط به پیدا کردن پروازها باید با عامل مربوط به رزرو هتل‌ها ارتباط برقرار کند تا اطمینان حاصل شود که هتل برای همان تاریخ‌های پرواز رزرو شده است. این بدان معناست که عوامل باید اطلاعاتی درباره تاریخ‌های سفر کاربر به اشتراک بگذارند، یعنی شما باید تصمیم بگیرید *کدام عوامل اطلاعات را به اشتراک می‌گذارند و چگونه این اطلاعات را به اشتراک می‌گذارند*.
- **مکانیسم‌های هماهنگی**: عوامل باید اقدامات خود را هماهنگ کنند تا اطمینان حاصل شود که ترجیحات و محدودیت‌های کاربر رعایت می‌شوند. به عنوان مثال، ترجیح کاربر ممکن است این باشد که هتلی نزدیک به فرودگاه بخواهد، در حالی که محدودیت ممکن است این باشد که خودروهای اجاره‌ای فقط در فرودگاه موجود هستند. این بدان معناست که عامل مربوط به رزرو هتل‌ها باید با عامل مربوط به رزرو خودروهای اجاره‌ای هماهنگ شود تا اطمینان حاصل شود که ترجیحات و محدودیت‌های کاربر رعایت می‌شوند. این بدان معناست که شما باید تصمیم بگیرید *چگونه عوامل اقدامات خود را هماهنگ می‌کنند*.
- **معماری عامل**: عوامل باید ساختار داخلی داشته باشند تا بتوانند تصمیم‌گیری کنند و از تعاملات خود با کاربر یاد بگیرند. به عنوان مثال، عامل مربوط به پیدا کردن پروازها باید ساختار داخلی داشته باشد تا بتواند تصمیم بگیرد که کدام پروازها را به کاربر پیشنهاد دهد. این بدان معناست که شما باید تصمیم بگیرید *چگونه عوامل تصمیم‌گیری می‌کنند و از تعاملات خود با کاربر یاد می‌گیرند*. به عنوان مثال، عامل مربوط به پیدا کردن پروازها می‌تواند از یک مدل یادگیری ماشین برای پیشنهاد پروازها به کاربر بر اساس ترجیحات گذشته او استفاده کند.
- **مشاهده تعاملات چندعاملی**: شما باید امکان مشاهده نحوه تعامل عوامل مختلف با یکدیگر را داشته باشید. این مشاهده برای اشکال‌زدایی، بهینه‌سازی و اطمینان از اثربخشی کلی سیستم ضروری است. برای این کار، باید ابزارها و تکنیک‌هایی برای ردیابی فعالیت‌ها و تعاملات عوامل داشته باشید. این می‌تواند به صورت ابزارهای ثبت و نظارت، ابزارهای تجسم و معیارهای عملکرد باشد.
- **الگوهای چندعاملی**: الگوهای مختلفی برای پیاده‌سازی سیستم‌های چندعاملی وجود دارند، مانند معماری‌های متمرکز، غیرمتمرکز و ترکیبی. شما باید الگویی را انتخاب کنید که بهترین تناسب را با مورد استفاده شما داشته باشد.
- **انسان در حلقه**: در اکثر موارد، شما یک انسان در حلقه خواهید داشت و باید به عوامل دستور دهید که چه زمانی درخواست مداخله انسانی کنند. این می‌تواند به صورت کاربری باشد که درخواست یک هتل یا پرواز خاصی را دارد که عوامل پیشنهاد نداده‌اند یا درخواست تأیید قبل از رزرو پرواز یا هتل.

## مشاهده تعاملات چندعاملی

مهم است که شما امکان مشاهده نحوه تعامل عوامل مختلف با یکدیگر را داشته باشید. این مشاهده برای اشکال‌زدایی، بهینه‌سازی و اطمینان از اثربخشی کلی سیستم ضروری است. برای این کار، باید ابزارها و تکنیک‌هایی برای ردیابی فعالیت‌ها و تعاملات عوامل داشته باشید. این می‌تواند به صورت ابزارهای ثبت و نظارت، ابزارهای تجسم و معیارهای عملکرد باشد.

به عنوان مثال، در مورد رزرو سفر برای یک کاربر، شما می‌توانید داشبوردی داشته باشید که وضعیت هر عامل، ترجیحات و محدودیت‌های کاربر و تعاملات بین عوامل را نشان دهد. این داشبورد می‌تواند تاریخ‌های سفر کاربر، پروازهای پیشنهادی توسط عامل پرواز، هتل‌های پیشنهادی توسط عامل هتل و خودروهای اجاره‌ای پیشنهادی توسط عامل خودرو را نشان دهد. این به شما دید واضحی از نحوه تعامل عوامل با یکدیگر و اینکه آیا ترجیحات و محدودیت‌های کاربر رعایت می‌شوند یا خیر، می‌دهد.

بیایید هر یک از این جنبه‌ها را با جزئیات بیشتری بررسی کنیم.

- **ابزارهای ثبت و نظارت**: شما می‌خواهید برای هر اقدامی که توسط یک عامل انجام می‌شود، ثبت انجام دهید. یک ورودی ثبت می‌تواند اطلاعاتی درباره عاملی که اقدام را انجام داده، اقدام انجام‌شده، زمان انجام اقدام و نتیجه اقدام ذخیره کند. این اطلاعات می‌تواند برای اشکال‌زدایی، بهینه‌سازی و موارد دیگر استفاده شود.

- **ابزارهای تجسم**: ابزارهای تجسم می‌توانند به شما کمک کنند تا تعاملات بین عوامل را به صورت بصری‌تر ببینید. به عنوان مثال، شما می‌توانید یک نمودار داشته باشید که جریان اطلاعات بین عوامل را نشان دهد. این می‌تواند به شما کمک کند تا گلوگاه‌ها، ناکارآمدی‌ها و مسائل دیگر در سیستم را شناسایی کنید.

- **معیارهای عملکرد**: معیارهای عملکرد می‌توانند به شما کمک کنند تا اثربخشی سیستم چندعاملی را پیگیری کنید. به عنوان مثال، شما می‌توانید زمان لازم برای تکمیل یک وظیفه، تعداد وظایف تکمیل‌شده در واحد زمان و دقت پیشنهادات ارائه‌شده توسط عوامل را پیگیری کنید. این اطلاعات می‌تواند به شما کمک کند تا زمینه‌های بهبود را شناسایی کرده و سیستم را بهینه کنید.

## الگوهای چندعاملی

بیایید به برخی از الگوهای مشخصی که می‌توانیم برای ایجاد برنامه‌های چندعاملی استفاده کنیم، بپردازیم. در اینجا چند الگوی جالب که ارزش بررسی دارند آورده شده است:

### چت گروهی

این الگو زمانی مفید است که بخواهید یک برنامه چت گروهی ایجاد کنید که در آن چندین عامل بتوانند با یکدیگر ارتباط برقرار کنند. موارد استفاده معمول برای این الگو شامل همکاری تیمی، پشتیبانی مشتری و شبکه‌های اجتماعی است.

در این الگو، هر عامل نماینده یک کاربر در چت گروهی است و پیام‌ها بین عوامل با استفاده از یک پروتکل پیام‌رسانی مبادله می‌شوند. عوامل می‌توانند پیام‌ها را به چت گروهی ارسال کنند، پیام‌ها را از چت گروهی دریافت کنند و به پیام‌های سایر عوامل پاسخ دهند.

این الگو می‌تواند با استفاده از یک معماری متمرکز که در آن تمام پیام‌ها از طریق یک سرور مرکزی مسیریابی می‌شوند، یا یک معماری غیرمتمرکز که در آن پیام‌ها مستقیماً مبادله می‌شوند، پیاده‌سازی شود.

![چت گروهی](../../../translated_images/multi-agent-group-chat.ec10f4cde556babd7b450fd01e1a0fac1f9788c27d3b9e54029377bb1bdd1db6.fa.png)

### انتقال وظیفه

این الگو زمانی مفید است که بخواهید برنامه‌ای ایجاد کنید که در آن چندین عامل بتوانند وظایف را به یکدیگر منتقل کنند.

موارد استفاده معمول برای این الگو شامل پشتیبانی مشتری، مدیریت وظایف و خودکارسازی جریان کار است.

در این الگو، هر عامل نماینده یک وظیفه یا یک مرحله در یک جریان کار است و عوامل می‌توانند وظایف را بر اساس قوانین از پیش تعریف‌شده به سایر عوامل منتقل کنند.

![انتقال وظیفه](../../../translated_images/multi-agent-hand-off.4c5fb00ba6f8750a0754bf29d49fa19d578080c61da40416df84d866bcdd87a3.fa.png)

### فیلترسازی مشارکتی

این الگو زمانی مفید است که بخواهید برنامه‌ای ایجاد کنید که در آن چندین عامل بتوانند برای ارائه پیشنهادات به کاربران همکاری کنند.

دلیل اینکه ممکن است بخواهید چندین عامل همکاری کنند این است که هر عامل می‌تواند تخصص متفاوتی داشته باشد و به روش‌های مختلفی در فرآیند پیشنهاددهی مشارکت کند.

بیایید مثالی بزنیم که در آن یک کاربر می‌خواهد پیشنهادی درباره بهترین سهام برای خرید در بازار سهام دریافت کند.

- **متخصص صنعت**: یک عامل می‌تواند متخصص در یک صنعت خاص باشد.
- **تحلیل تکنیکال**: عامل دیگر می‌تواند متخصص در تحلیل تکنیکال باشد.
- **تحلیل بنیادی**: و عامل دیگر می‌تواند متخصص در تحلیل بنیادی باشد. با همکاری، این عوامل می‌توانند پیشنهاد جامع‌تری به کاربر ارائه دهند.

![پیشنهاددهی](../../../translated_images/multi-agent-filtering.d959cb129dc9f60826916f0f12fe7a8339b532f5f236860afb8f16b63ea10dc2.fa.png)

## سناریو: فرآیند بازپرداخت

یک سناریو را در نظر بگیرید که در آن یک مشتری در تلاش است تا برای یک محصول بازپرداخت دریافت کند. عوامل زیادی می‌توانند در این فرآیند دخیل باشند، اما بیایید آن را به عوامل خاص این فرآیند و عوامل عمومی که می‌توانند در فرآیندهای دیگر استفاده شوند تقسیم کنیم.

**عوامل خاص فرآیند بازپرداخت**:

در زیر برخی از عواملی که می‌توانند در فرآیند بازپرداخت دخیل باشند آورده شده است:

- **عامل مشتری**: این عامل نماینده مشتری است و مسئول شروع فرآیند بازپرداخت است.
- **عامل فروشنده**: این عامل نماینده فروشنده است و مسئول پردازش بازپرداخت است.
- **عامل پرداخت**: این عامل نماینده فرآیند پرداخت است و مسئول بازپرداخت مبلغ مشتری است.
- **عامل حل اختلاف**: این عامل نماینده فرآیند حل اختلاف است و مسئول حل هرگونه مشکلی است که در طول فرآیند بازپرداخت پیش می‌آید.
- **عامل انطباق**: این عامل نماینده فرآیند انطباق است و مسئول اطمینان از این است که فرآیند بازپرداخت با مقررات و سیاست‌ها مطابقت دارد.

**عوامل عمومی**:

این عوامل می‌توانند در بخش‌های دیگر کسب‌وکار شما استفاده شوند.

- **عامل حمل و نقل**: این عامل نماینده فرآیند حمل و نقل است و مسئول ارسال محصول به فروشنده است. این عامل می‌تواند هم برای فرآیند بازپرداخت و هم برای حمل و نقل عمومی یک محصول در صورت خرید استفاده شود.
- **عامل بازخورد**: این عامل نماینده فرآیند بازخورد است و مسئول جمع‌آوری بازخورد از مشتری است. بازخورد می‌تواند در هر زمانی و نه فقط در طول فرآیند بازپرداخت جمع‌آوری شود.
- **عامل ارجاع**: این عامل نماینده فرآیند ارجاع است و مسئول ارجاع مسائل به سطح بالاتری از پشتیبانی است. شما می‌توانید از این نوع عامل برای هر فرآیندی که نیاز به ارجاع یک مسئله دارد استفاده کنید.
- **عامل اطلاع‌رسانی**: این عامل نماینده فرآیند اطلاع‌رسانی است و مسئول ارسال اطلاعیه‌ها به مشتری در مراحل مختلف فرآیند بازپرداخت است.
- **عامل تحلیل**: این عامل نماینده فرآیند تحلیل است و مسئول تحلیل داده‌های مربوط به فرآیند بازپرداخت است.
- **عامل حسابرسی**: این عامل نماینده فرآیند حسابرسی است و مسئول حسابرسی فرآیند بازپرداخت برای اطمینان از انجام صحیح آن است.
- **عامل گزارش‌دهی**: این عامل نماینده فرآیند گزارش‌دهی است و مسئول تولید گزارش‌های مربوط به فرآیند بازپرداخت است.
- **عامل دانش**: این عامل نماینده فرآیند دانش است و مسئول نگهداری یک پایگاه دانش از اطلاعات مربوط به فرآیند بازپرداخت است. این عامل می‌تواند هم در مورد بازپرداخت و هم در مورد بخش‌های دیگر کسب‌وکار شما آگاه باشد.
- **عامل امنیت**: این عامل نماینده فرآیند امنیت است و مسئول اطمینان از امنیت فرآیند بازپرداخت است.
- **عامل کیفیت**: این عامل نماینده فرآیند کیفیت است و مسئول اطمینان از کیفیت فرآیند بازپرداخت است.

عوامل زیادی در بالا ذکر شدند، هم برای فرآیند خاص بازپرداخت و هم برای عوامل عمومی که می‌توانند در بخش‌های دیگر کسب‌وکار شما استفاده شوند. امیدواریم این موضوع به شما ایده‌ای بدهد که چگونه می‌توانید تصمیم بگیرید کدام عوامل را در سیستم چندعاملی خود استفاده کنید.

## تکلیف
طراحی یک سیستم چندعاملی برای فرآیند پشتیبانی مشتری. عوامل درگیر در فرآیند، نقش‌ها و مسئولیت‌های آن‌ها، و نحوه تعامل آن‌ها با یکدیگر را شناسایی کنید. عوامل خاص مربوط به فرآیند پشتیبانی مشتری و همچنین عوامل عمومی که می‌توانند در بخش‌های دیگر کسب‌وکار شما استفاده شوند را در نظر بگیرید.

> قبل از خواندن راه‌حل زیر کمی فکر کنید، ممکن است به عوامل بیشتری نسبت به آنچه فکر می‌کنید نیاز داشته باشید.

> TIP: به مراحل مختلف فرآیند پشتیبانی مشتری فکر کنید و همچنین عوامل مورد نیاز برای هر سیستم را در نظر بگیرید.

## راه‌حل

[راه‌حل](./solution/solution.md)

## بررسی دانش

سؤال: چه زمانی باید استفاده از چندعامل را در نظر بگیرید؟

- [ ] A1: زمانی که حجم کار کم و وظیفه ساده‌ای دارید.
- [ ] A2: زمانی که حجم کار زیادی دارید.
- [ ] A3: زمانی که وظیفه ساده‌ای دارید.

[آزمون راه‌حل](./solution/solution-quiz.md)

## خلاصه

در این درس، ما الگوی طراحی چندعاملی را بررسی کردیم، از جمله سناریوهایی که در آن‌ها چندعامل قابل استفاده است، مزایای استفاده از چندعامل نسبت به یک عامل منفرد، اجزای اصلی پیاده‌سازی الگوی طراحی چندعاملی، و چگونگی داشتن دید به نحوه تعامل عوامل متعدد با یکدیگر.

### سؤالات بیشتری درباره الگوی طراحی چندعاملی دارید؟

به [دیسکورد Azure AI Foundry](https://aka.ms/ai-agents/discord) بپیوندید تا با دیگر یادگیرندگان ملاقات کنید، در ساعات اداری شرکت کنید و پاسخ سؤالات خود درباره عوامل هوش مصنوعی را دریافت کنید.

## منابع اضافی

- 

## درس قبلی

[طراحی برنامه‌ریزی](../07-planning-design/README.md)

## درس بعدی

[فراشناخت در عوامل هوش مصنوعی](../09-metacognition/README.md)

---

**سلب مسئولیت**:  
این سند با استفاده از سرویس ترجمه هوش مصنوعی [Co-op Translator](https://github.com/Azure/co-op-translator) ترجمه شده است. در حالی که ما برای دقت تلاش می‌کنیم، لطفاً توجه داشته باشید که ترجمه‌های خودکار ممکن است شامل خطاها یا نادقتی‌ها باشند. سند اصلی به زبان اصلی آن باید به عنوان منبع معتبر در نظر گرفته شود. برای اطلاعات حساس، ترجمه حرفه‌ای انسانی توصیه می‌شود. ما هیچ مسئولیتی در قبال سوءتفاهم‌ها یا تفسیرهای نادرست ناشی از استفاده از این ترجمه نداریم.