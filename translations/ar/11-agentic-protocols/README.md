<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "5c05bcdfb163dfa2493db39dfb45ad9a",
  "translation_date": "2025-09-04T07:32:29+00:00",
  "source_file": "11-agentic-protocols/README.md",
  "language_code": "ar"
}
-->
# استخدام بروتوكولات الوكلاء (MCP، A2A وNLWeb)

[![بروتوكولات الوكلاء](../../../translated_images/lesson-11-thumbnail.b6c742949cf1ce2aa0255968d287b31c99b51dfa9c9beaede7c3fbed90e8fcfb.ar.png)](https://youtu.be/X-Dh9R3Opn8)

مع تزايد استخدام وكلاء الذكاء الاصطناعي، تزداد الحاجة إلى بروتوكولات تضمن التوحيد القياسي، الأمان، ودعم الابتكار المفتوح. في هذه الدرس، سنغطي ثلاثة بروتوكولات تهدف إلى تلبية هذه الحاجة - بروتوكول سياق النموذج (MCP)، الوكيل إلى الوكيل (A2A)، والويب الطبيعي (NLWeb).

## المقدمة

في هذا الدرس، سنغطي:

• كيف يسمح **MCP** لوكلاء الذكاء الاصطناعي بالوصول إلى الأدوات والبيانات الخارجية لإكمال مهام المستخدم.

• كيف يُمكن **A2A** من التواصل والتعاون بين وكلاء الذكاء الاصطناعي المختلفين.

• كيف يُمكن **NLWeb** من جلب واجهات اللغة الطبيعية إلى أي موقع ويب، مما يتيح لوكلاء الذكاء الاصطناعي اكتشاف المحتوى والتفاعل معه.

## أهداف التعلم

• **التعرف** على الهدف الأساسي وفوائد MCP، A2A، وNLWeb في سياق وكلاء الذكاء الاصطناعي.

• **شرح** كيف يُسهل كل بروتوكول التواصل والتفاعل بين النماذج اللغوية الكبيرة (LLMs)، الأدوات، والوكلاء الآخرين.

• **التعرف** على الأدوار المميزة التي يلعبها كل بروتوكول في بناء أنظمة وكلاء معقدة.

## بروتوكول سياق النموذج

**بروتوكول سياق النموذج (MCP)** هو معيار مفتوح يوفر طريقة موحدة للتطبيقات لتقديم السياق والأدوات للنماذج اللغوية الكبيرة (LLMs). هذا يُمكن من وجود "مُحول عالمي" لمصادر البيانات والأدوات المختلفة التي يمكن لوكلاء الذكاء الاصطناعي الاتصال بها بطريقة متسقة.

دعونا نلقي نظرة على مكونات MCP، الفوائد مقارنة باستخدام واجهات برمجة التطبيقات المباشرة، ومثال على كيفية استخدام وكلاء الذكاء الاصطناعي لخادم MCP.

### المكونات الأساسية لـ MCP

يعمل MCP على **هيكلية العميل-الخادم** والمكونات الأساسية هي:

• **المضيفون** هم تطبيقات النماذج اللغوية الكبيرة (مثل محرر الأكواد مثل VSCode) التي تبدأ الاتصالات مع خادم MCP.

• **العملاء** هم مكونات داخل تطبيق المضيف تحافظ على اتصالات فردية مع الخوادم.

• **الخوادم** هي برامج خفيفة الوزن تعرض قدرات محددة.

يتضمن البروتوكول ثلاثة عناصر أساسية وهي قدرات خادم MCP:

• **الأدوات**: هذه هي الإجراءات أو الوظائف المنفصلة التي يمكن لوكيل الذكاء الاصطناعي استدعاؤها لتنفيذ إجراء معين. على سبيل المثال، قد يقدم خادم خدمة الطقس أداة "الحصول على الطقس"، أو قد يقدم خادم التجارة الإلكترونية أداة "شراء منتج". يقوم خادم MCP بالإعلان عن اسم كل أداة، وصفها، ومخطط الإدخال/الإخراج الخاص بها في قائمة القدرات.

• **الموارد**: هذه هي عناصر البيانات أو الوثائق التي يمكن لخادم MCP توفيرها، ويمكن للعملاء استردادها عند الطلب. تشمل الأمثلة محتويات الملفات، سجلات قواعد البيانات، أو ملفات السجل. يمكن أن تكون الموارد نصية (مثل الأكواد أو JSON) أو ثنائية (مثل الصور أو ملفات PDF).

• **المحفزات**: هذه هي القوالب المحددة مسبقًا التي تقدم محفزات مقترحة، مما يسمح بسير عمل أكثر تعقيدًا.

### فوائد MCP

يوفر MCP فوائد كبيرة لوكلاء الذكاء الاصطناعي:

• **اكتشاف الأدوات الديناميكي**: يمكن للوكلاء تلقي قائمة بالأدوات المتاحة من الخادم بشكل ديناميكي مع وصف لما تقوم به. هذا يختلف عن واجهات برمجة التطبيقات التقليدية التي غالبًا ما تتطلب ترميزًا ثابتًا للتكاملات، مما يعني أن أي تغيير في واجهة برمجة التطبيقات يتطلب تحديثات في الكود. يوفر MCP نهج "التكامل مرة واحدة"، مما يؤدي إلى مرونة أكبر.

• **التشغيل البيني عبر النماذج اللغوية الكبيرة**: يعمل MCP عبر نماذج لغوية كبيرة مختلفة، مما يوفر مرونة لتبديل النماذج الأساسية لتقييم الأداء الأفضل.

• **الأمان الموحد**: يتضمن MCP طريقة مصادقة قياسية، مما يحسن قابلية التوسع عند إضافة الوصول إلى خوادم MCP إضافية. هذا أبسط من إدارة مفاتيح وأنواع مصادقة مختلفة لواجهات برمجة التطبيقات التقليدية.

### مثال MCP

![مخطط MCP](../../../translated_images/mcp-diagram.e4ca1cbd551444a12e1f0eb300191a036ab01124fce71c864fe9cb7f4ac2a15d.ar.png)

تخيل أن مستخدمًا يريد حجز رحلة باستخدام مساعد ذكاء اصطناعي مدعوم بـ MCP.

1. **الاتصال**: يتصل مساعد الذكاء الاصطناعي (عميل MCP) بخادم MCP مقدم من شركة طيران.

2. **اكتشاف الأدوات**: يسأل العميل خادم MCP الخاص بشركة الطيران، "ما الأدوات المتاحة لديك؟" يرد الخادم بأدوات مثل "البحث عن رحلات" و"حجز رحلات".

3. **استدعاء الأداة**: ثم تطلب من مساعد الذكاء الاصطناعي، "يرجى البحث عن رحلة من بورتلاند إلى هونولولو." يستخدم مساعد الذكاء الاصطناعي النموذج اللغوي الكبير الخاص به لتحديد أنه يحتاج إلى استدعاء أداة "البحث عن رحلات" ويمرر المعلمات ذات الصلة (المصدر، الوجهة) إلى خادم MCP.

4. **التنفيذ والاستجابة**: يقوم خادم MCP، الذي يعمل كغلاف، بإجراء الاتصال الفعلي بواجهة برمجة التطبيقات الداخلية لشركة الطيران. ثم يتلقى معلومات الرحلة (مثل بيانات JSON) ويرسلها مرة أخرى إلى مساعد الذكاء الاصطناعي.

5. **تفاعل إضافي**: يقدم مساعد الذكاء الاصطناعي خيارات الرحلات. بمجرد اختيارك لرحلة، قد يستدعي المساعد أداة "حجز الرحلة" على نفس خادم MCP، لإكمال الحجز.

## بروتوكول الوكيل إلى الوكيل (A2A)

بينما يركز MCP على ربط النماذج اللغوية الكبيرة بالأدوات، يأخذ **بروتوكول الوكيل إلى الوكيل (A2A)** خطوة أبعد من خلال تمكين التواصل والتعاون بين وكلاء الذكاء الاصطناعي المختلفين. يربط A2A وكلاء الذكاء الاصطناعي عبر مؤسسات، بيئات، وتقنيات مختلفة لإكمال مهمة مشتركة.

سنستعرض مكونات وفوائد A2A، بالإضافة إلى مثال على كيفية تطبيقه في تطبيق السفر الخاص بنا.

### المكونات الأساسية لـ A2A

يركز A2A على تمكين التواصل بين الوكلاء وجعلهم يعملون معًا لإكمال مهمة فرعية للمستخدم. يساهم كل مكون من البروتوكول في هذا:

#### بطاقة الوكيل

على غرار كيفية مشاركة خادم MCP قائمة الأدوات، تحتوي بطاقة الوكيل على:
- اسم الوكيل.
- **وصف المهام العامة** التي يكملها.
- **قائمة المهارات المحددة** مع أوصاف لمساعدة الوكلاء الآخرين (أو حتى المستخدمين البشر) على فهم متى ولماذا قد يرغبون في استدعاء هذا الوكيل.
- **عنوان نقطة النهاية الحالي** للوكيل.
- **الإصدار** و**القدرات** الخاصة بالوكيل مثل استجابات البث وإشعارات الدفع.

#### منفذ الوكيل

منفذ الوكيل مسؤول عن **تمرير سياق محادثة المستخدم إلى الوكيل البعيد**، حيث يحتاج الوكيل البعيد إلى هذا لفهم المهمة التي يجب إكمالها. في خادم A2A، يستخدم الوكيل النموذج اللغوي الكبير الخاص به لتحليل الطلبات الواردة وتنفيذ المهام باستخدام أدواته الداخلية.

#### المنتج النهائي

بمجرد أن يكمل الوكيل البعيد المهمة المطلوبة، يتم إنشاء منتجه النهائي كمنتج نهائي. يحتوي المنتج النهائي على **نتيجة عمل الوكيل**، **وصف لما تم إنجازه**، و**سياق النص** الذي يتم إرساله عبر البروتوكول. بعد إرسال المنتج النهائي، يتم إغلاق الاتصال مع الوكيل البعيد حتى يتم الحاجة إليه مرة أخرى.

#### قائمة الأحداث

يُستخدم هذا المكون لـ **معالجة التحديثات وتمرير الرسائل**. هذا مهم بشكل خاص في الإنتاج لأنظمة الوكلاء لمنع إغلاق الاتصال بين الوكلاء قبل إكمال المهمة، خاصة عندما تستغرق أوقات إكمال المهام وقتًا أطول.

### فوائد A2A

• **تعزيز التعاون**: يُمكن الوكلاء من منصات وموردين مختلفين من التفاعل، مشاركة السياق، والعمل معًا، مما يسهل الأتمتة السلسة عبر الأنظمة التي كانت تقليديًا منفصلة.

• **مرونة اختيار النموذج**: يمكن لكل وكيل A2A أن يقرر النموذج اللغوي الكبير الذي يستخدمه لخدمة طلباته، مما يسمح بنماذج محسنة أو مخصصة لكل وكيل، على عكس اتصال نموذج لغوي كبير واحد في بعض سيناريوهات MCP.

• **المصادقة المدمجة**: يتم دمج المصادقة مباشرة في بروتوكول A2A، مما يوفر إطار أمان قوي لتفاعلات الوكلاء.

### مثال A2A

![مخطط A2A](../../../translated_images/A2A-Diagram.8666928d648acc2687db4093d7b09ea2a595622f8fe18194a026ee55fc23af8e.ar.png)

لنوسع سيناريو حجز السفر الخاص بنا، ولكن هذه المرة باستخدام A2A.

1. **طلب المستخدم إلى وكيل متعدد**: يتفاعل المستخدم مع "وكيل السفر" عميل/وكيل A2A، ربما عن طريق قول، "يرجى حجز رحلة كاملة إلى هونولولو للأسبوع المقبل، بما في ذلك الرحلات الجوية، الفندق، وسيارة للإيجار".

2. **تنسيق وكيل السفر**: يتلقى وكيل السفر هذا الطلب المعقد. يستخدم النموذج اللغوي الكبير الخاص به للتفكير في المهمة وتحديد أنه يحتاج إلى التفاعل مع وكلاء متخصصين آخرين.

3. **التواصل بين الوكلاء**: يستخدم وكيل السفر بروتوكول A2A للاتصال بوكلاء متخصصين، مثل "وكيل الطيران"، "وكيل الفندق"، و"وكيل تأجير السيارات" الذين تم إنشاؤهم بواسطة شركات مختلفة.

4. **تنفيذ المهام المفوضة**: يرسل وكيل السفر مهام محددة إلى هؤلاء الوكلاء المتخصصين (مثل "البحث عن رحلات إلى هونولولو"، "حجز فندق"، "استئجار سيارة"). يقوم كل من هؤلاء الوكلاء المتخصصين، الذين يشغلون نماذجهم اللغوية الكبيرة الخاصة بهم ويستخدمون أدواتهم الخاصة (والتي يمكن أن تكون خوادم MCP نفسها)، بتنفيذ الجزء الخاص بهم من الحجز.

5. **استجابة موحدة**: بمجرد أن يكمل جميع الوكلاء المتخصصين مهامهم، يقوم وكيل السفر بتجميع النتائج (تفاصيل الرحلة، تأكيد الفندق، حجز السيارة) ويرسل استجابة شاملة بأسلوب المحادثة إلى المستخدم.

## الويب الطبيعي (NLWeb)

لطالما كانت المواقع الإلكترونية الطريقة الأساسية للمستخدمين للوصول إلى المعلومات والبيانات عبر الإنترنت.

دعونا نلقي نظرة على المكونات المختلفة لـ NLWeb، فوائد NLWeb، ومثال على كيفية عمل NLWeb من خلال النظر في تطبيق السفر الخاص بنا.

### مكونات NLWeb

- **تطبيق NLWeb (كود الخدمة الأساسي)**: النظام الذي يعالج الأسئلة باللغة الطبيعية. يربط الأجزاء المختلفة من المنصة لإنشاء استجابات. يمكنك اعتباره **المحرك الذي يشغل ميزات اللغة الطبيعية** للموقع.

- **بروتوكول NLWeb**: هذا هو **مجموعة أساسية من القواعد للتفاعل باللغة الطبيعية** مع الموقع. يرسل الاستجابات بتنسيق JSON (غالبًا باستخدام Schema.org). هدفه هو إنشاء أساس بسيط لـ "الويب الذكي"، بنفس الطريقة التي جعل بها HTML مشاركة الوثائق عبر الإنترنت ممكنة.

- **خادم MCP (نقطة نهاية بروتوكول سياق النموذج)**: يعمل كل إعداد NLWeb أيضًا كـ **خادم MCP**. هذا يعني أنه يمكنه **مشاركة الأدوات (مثل طريقة "السؤال") والبيانات** مع أنظمة الذكاء الاصطناعي الأخرى. عمليًا، يجعل هذا محتوى الموقع وقدراته قابلة للاستخدام من قبل وكلاء الذكاء الاصطناعي، مما يسمح للموقع بأن يصبح جزءًا من "نظام الوكلاء" الأوسع.

- **نماذج التضمين**: تُستخدم هذه النماذج لـ **تحويل محتوى الموقع إلى تمثيلات رقمية تُسمى التضمينات**. هذه التضمينات تلتقط المعنى بطريقة يمكن للحواسيب مقارنتها والبحث فيها. يتم تخزينها في قاعدة بيانات خاصة، ويمكن للمستخدمين اختيار نموذج التضمين الذي يريدون استخدامه.

- **قاعدة بيانات التضمين (آلية الاسترجاع)**: تقوم هذه القاعدة **بتخزين تضمينات محتوى الموقع**. عندما يسأل شخص سؤالًا، يتحقق NLWeb من قاعدة بيانات التضمين للعثور بسرعة على المعلومات الأكثر صلة. يقدم قائمة سريعة بالإجابات المحتملة، مرتبة حسب التشابه. يعمل NLWeb مع أنظمة تخزين تضمين مختلفة مثل Qdrant، Snowflake، Milvus، Azure AI Search، وElasticsearch.

### NLWeb بالمثال

![NLWeb](../../../translated_images/nlweb-diagram.c1e2390b310e5fe4b245b86690ac6c49c26e355da5ab124128c8675d58cc9b07.ar.png)

لنأخذ موقع حجز السفر الخاص بنا مرة أخرى، ولكن هذه المرة، يتم تشغيله بواسطة NLWeb.

1. **إدخال البيانات**: يتم تنسيق كتالوجات المنتجات الحالية للموقع (مثل قوائم الرحلات الجوية، أوصاف الفنادق، حزم الجولات) باستخدام Schema.org أو يتم تحميلها عبر خلاصات RSS. تقوم أدوات NLWeb بتحميل هذه البيانات المهيكلة، وإنشاء تضمينات، وتخزينها في قاعدة بيانات تضمين محلية أو بعيدة.

2. **استفسار باللغة الطبيعية (إنسان)**: يزور المستخدم الموقع، وبدلاً من التنقل عبر القوائم، يكتب في واجهة المحادثة: "ابحث لي عن فندق مناسب للعائلات في هونولولو مع مسبح للأسبوع المقبل".

3. **معالجة NLWeb**: يتلقى تطبيق NLWeb هذا الاستفسار. يرسل الاستفسار إلى نموذج لغوي كبير لفهمه ويبحث في الوقت نفسه في قاعدة بيانات التضمين عن قوائم الفنادق ذات الصلة.

4. **نتائج دقيقة**: يساعد النموذج اللغوي الكبير في تفسير نتائج البحث من قاعدة البيانات، وتحديد أفضل التطابقات بناءً على معايير "مناسب للعائلات"، "مسبح"، و"هونولولو"، ثم يُنسق استجابة بلغة طبيعية. الأهم من ذلك، تشير الاستجابة إلى فنادق فعلية من كتالوج الموقع، مما يتجنب المعلومات المختلقة.

5. **تفاعل وكيل الذكاء الاصطناعي**: نظرًا لأن NLWeb يعمل كخادم MCP، يمكن لوكيل السفر الذكاء الاصطناعي الخارجي أيضًا الاتصال بمثيل NLWeb الخاص بالموقع. يمكن لوكيل الذكاء الاصطناعي استخدام طريقة `ask` الخاصة بـ MCP للاستفسار مباشرة من الموقع: `ask("هل هناك مطاعم صديقة للنباتيين في منطقة هونولولو يوصي بها الفندق؟")`. يقوم مثيل NLWeb بمعالجة هذا، مستفيدًا من قاعدة بياناته الخاصة بمعلومات المطاعم (إذا تم تحميلها)، ويرسل استجابة JSON منظمة.

### هل لديك المزيد من الأسئلة حول MCP/A2A/NLWeb؟

انضم إلى [Discord الخاص بـ Azure AI Foundry](https://aka.ms/ai-agents/discord) للتواصل مع متعلمين آخرين، حضور ساعات المكتب، والحصول على إجابات لأسئلتك حول وكلاء الذكاء الاصطناعي.

## الموارد

- [MCP للمبتدئين](https://aka.ms/mcp-for-beginners)  
- [وثائق MCP](https://github.com/microsoft/semantic-kernel/tree/main/python/semantic-kernel/semantic_kernel/connectors/mcp)
- [مستودع NLWeb](https://github.com/nlweb-ai/NLWeb)
- [أدلة Semantic Kernel](https://learn.microsoft.com/semantic-kernel/)

---

**إخلاء المسؤولية**:  
تمت ترجمة هذا المستند باستخدام خدمة الترجمة الآلية [Co-op Translator](https://github.com/Azure/co-op-translator). بينما نسعى لتحقيق الدقة، يرجى العلم أن الترجمات الآلية قد تحتوي على أخطاء أو معلومات غير دقيقة. يجب اعتبار المستند الأصلي بلغته الأصلية هو المصدر الموثوق. للحصول على معلومات حساسة أو هامة، يُوصى بالاستعانة بترجمة بشرية احترافية. نحن غير مسؤولين عن أي سوء فهم أو تفسيرات خاطئة تنشأ عن استخدام هذه الترجمة.