<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "4a5ccc4ad1dba85fbc2087cf3b986544",
  "translation_date": "2025-08-30T14:01:46+00:00",
  "source_file": "04-tool-use/README.md",
  "language_code": "hi"
}
-->
[![अच्छे एआई एजेंट्स को डिज़ाइन कैसे करें](../../../translated_images/lesson-4-thumbnail.546162853cb3daffd64edd92014f274103f76360dfb39fc6e6ee399494da38fd.hi.png)](https://youtu.be/vieRiPRx-gI?si=cEZ8ApnT6Sus9rhn)

> _(इस पाठ का वीडियो देखने के लिए ऊपर दी गई छवि पर क्लिक करें)_

# टूल उपयोग डिज़ाइन पैटर्न

टूल्स दिलचस्प हैं क्योंकि वे एआई एजेंट्स को अधिक क्षमताएं प्रदान करते हैं। एजेंट के पास सीमित क्रियाओं का सेट होने के बजाय, एक टूल जोड़ने से एजेंट अब कई प्रकार की क्रियाएं कर सकता है। इस अध्याय में, हम टूल उपयोग डिज़ाइन पैटर्न पर चर्चा करेंगे, जो यह बताता है कि एआई एजेंट्स विशिष्ट टूल्स का उपयोग करके अपने लक्ष्यों को कैसे प्राप्त कर सकते हैं।

## परिचय

इस पाठ में, हम निम्नलिखित प्रश्नों के उत्तर खोजने का प्रयास करेंगे:

- टूल उपयोग डिज़ाइन पैटर्न क्या है?
- इसे किन उपयोग मामलों में लागू किया जा सकता है?
- डिज़ाइन पैटर्न को लागू करने के लिए किन तत्वों/निर्माण खंडों की आवश्यकता होती है?
- भरोसेमंद एआई एजेंट्स बनाने के लिए टूल उपयोग डिज़ाइन पैटर्न का उपयोग करते समय क्या विशेष विचार करने चाहिए?

## सीखने के लक्ष्य

इस पाठ को पूरा करने के बाद, आप सक्षम होंगे:

- टूल उपयोग डिज़ाइन पैटर्न और इसके उद्देश्य को परिभाषित करना।
- उन उपयोग मामलों की पहचान करना जहां टूल उपयोग डिज़ाइन पैटर्न लागू हो सकता है।
- डिज़ाइन पैटर्न को लागू करने के लिए आवश्यक प्रमुख तत्वों को समझना।
- इस डिज़ाइन पैटर्न का उपयोग करते हुए एआई एजेंट्स में भरोसेमंदता सुनिश्चित करने के लिए विचारों को पहचानना।

## टूल उपयोग डिज़ाइन पैटर्न क्या है?

**टूल उपयोग डिज़ाइन पैटर्न** का फोकस LLMs को बाहरी टूल्स के साथ इंटरैक्ट करने की क्षमता प्रदान करने पर है ताकि वे विशिष्ट लक्ष्यों को प्राप्त कर सकें। टूल्स कोड होते हैं जिन्हें किसी एजेंट द्वारा क्रियान्वित किया जा सकता है। एक टूल एक साधारण फ़ंक्शन हो सकता है, जैसे कि कैलकुलेटर, या किसी तृतीय-पक्ष सेवा जैसे स्टॉक मूल्य खोज या मौसम पूर्वानुमान के लिए एपीआई कॉल। एआई एजेंट्स के संदर्भ में, टूल्स को **मॉडल-जनरेटेड फ़ंक्शन कॉल्स** के जवाब में क्रियान्वित करने के लिए डिज़ाइन किया गया है।

## इसे किन उपयोग मामलों में लागू किया जा सकता है?

एआई एजेंट्स टूल्स का उपयोग करके जटिल कार्यों को पूरा कर सकते हैं, जानकारी प्राप्त कर सकते हैं, या निर्णय ले सकते हैं। टूल उपयोग डिज़ाइन पैटर्न का उपयोग अक्सर उन परिदृश्यों में किया जाता है जहां बाहरी सिस्टम, जैसे डेटाबेस, वेब सेवाओं, या कोड इंटरप्रेटर्स के साथ डायनामिक इंटरैक्शन की आवश्यकता होती है। यह क्षमता कई उपयोग मामलों के लिए उपयोगी है, जिनमें शामिल हैं:

- **डायनामिक जानकारी प्राप्त करना:** एजेंट्स बाहरी एपीआई या डेटाबेस से अद्यतन डेटा प्राप्त कर सकते हैं (जैसे, SQLite डेटाबेस से डेटा विश्लेषण के लिए क्वेरी करना, स्टॉक मूल्य या मौसम की जानकारी प्राप्त करना)।
- **कोड निष्पादन और व्याख्या:** एजेंट्स गणितीय समस्याओं को हल करने, रिपोर्ट बनाने, या सिमुलेशन करने के लिए कोड या स्क्रिप्ट चला सकते हैं।
- **वर्कफ़्लो ऑटोमेशन:** टास्क शेड्यूलर, ईमेल सेवाओं, या डेटा पाइपलाइनों जैसे टूल्स को एकीकृत करके दोहरावदार या बहु-चरणीय वर्कफ़्लो को स्वचालित करना।
- **ग्राहक सहायता:** एजेंट्स सीआरएम सिस्टम, टिकटिंग प्लेटफ़ॉर्म, या नॉलेज बेस के साथ इंटरैक्ट कर सकते हैं ताकि उपयोगकर्ता की क्वेरी को हल किया जा सके।
- **सामग्री निर्माण और संपादन:** एजेंट्स व्याकरण जांचने वाले, टेक्स्ट सारांशक, या सामग्री सुरक्षा मूल्यांकनकर्ता जैसे टूल्स का उपयोग करके सामग्री निर्माण कार्यों में सहायता कर सकते हैं।

## टूल उपयोग डिज़ाइन पैटर्न को लागू करने के लिए किन तत्वों/निर्माण खंडों की आवश्यकता होती है?

ये निर्माण खंड एआई एजेंट को कई प्रकार के कार्य करने की अनुमति देते हैं। आइए टूल उपयोग डिज़ाइन पैटर्न को लागू करने के लिए आवश्यक प्रमुख तत्वों पर नज़र डालें:

- **फ़ंक्शन/टूल स्कीमा:** उपलब्ध टूल्स की विस्तृत परिभाषाएं, जिनमें फ़ंक्शन का नाम, उद्देश्य, आवश्यक पैरामीटर, और अपेक्षित आउटपुट शामिल हैं। ये स्कीमा LLM को यह समझने में सक्षम बनाते हैं कि कौन से टूल्स उपलब्ध हैं और वैध अनुरोध कैसे बनाए जाएं।
- **फ़ंक्शन निष्पादन लॉजिक:** यह नियंत्रित करता है कि उपयोगकर्ता के इरादे और बातचीत के संदर्भ के आधार पर टूल्स को कब और कैसे बुलाया जाए। इसमें प्लानर मॉड्यूल, रूटिंग मैकेनिज़्म, या कंडीशनल फ्लो शामिल हो सकते हैं जो डायनामिक रूप से टूल उपयोग का निर्धारण करते हैं।
- **संदेश प्रबंधन प्रणाली:** उपयोगकर्ता इनपुट, LLM प्रतिक्रियाओं, टूल कॉल्स, और टूल आउटपुट के बीच बातचीत के प्रवाह को प्रबंधित करने वाले घटक।
- **टूल इंटीग्रेशन फ्रेमवर्क:** वह इन्फ्रास्ट्रक्चर जो एजेंट को विभिन्न टूल्स से जोड़ता है, चाहे वे साधारण फ़ंक्शन हों या जटिल बाहरी सेवाएं।
- **त्रुटि प्रबंधन और सत्यापन:** टूल निष्पादन में विफलताओं को संभालने, पैरामीटर को सत्यापित करने, और अप्रत्याशित प्रतिक्रियाओं को प्रबंधित करने के लिए तंत्र।
- **स्टेट प्रबंधन:** बातचीत के संदर्भ, पिछले टूल इंटरैक्शन, और लगातार डेटा को ट्रैक करता है ताकि बहु-टर्न इंटरैक्शन में स्थिरता सुनिश्चित हो सके।

आइए अब फ़ंक्शन/टूल कॉलिंग को विस्तार से देखें।

### फ़ंक्शन/टूल कॉलिंग

फ़ंक्शन कॉलिंग वह प्राथमिक तरीका है जिससे हम बड़े भाषा मॉडल्स (LLMs) को टूल्स के साथ इंटरैक्ट करने में सक्षम बनाते हैं। अक्सर 'फ़ंक्शन' और 'टूल' को एक-दूसरे के स्थान पर उपयोग किया जाता है क्योंकि 'फ़ंक्शन्स' (पुन: उपयोग योग्य कोड के ब्लॉक) वे 'टूल्स' हैं जिनका उपयोग एजेंट कार्यों को पूरा करने के लिए करते हैं। किसी फ़ंक्शन के कोड को क्रियान्वित करने के लिए, LLM को उपयोगकर्ता के अनुरोध की तुलना फ़ंक्शन के विवरण से करनी होती है। ऐसा करने के लिए, सभी उपलब्ध फ़ंक्शन्स के विवरणों वाला एक स्कीमा LLM को भेजा जाता है। LLM तब कार्य के लिए सबसे उपयुक्त फ़ंक्शन का चयन करता है और उसका नाम और तर्क लौटाता है। चयनित फ़ंक्शन को क्रियान्वित किया जाता है, उसका उत्तर LLM को वापस भेजा जाता है, जो उपयोगकर्ता के अनुरोध का उत्तर देने के लिए जानकारी का उपयोग करता है।

एजेंट्स के लिए फ़ंक्शन कॉलिंग को लागू करने के लिए डेवलपर्स को आवश्यकता होगी:

1. एक LLM मॉडल जो फ़ंक्शन कॉलिंग का समर्थन करता हो
2. फ़ंक्शन विवरणों वाला एक स्कीमा
3. प्रत्येक वर्णित फ़ंक्शन के लिए कोड

आइए एक उदाहरण का उपयोग करके इसे समझें, जिसमें किसी शहर में वर्तमान समय प्राप्त करना शामिल है:

1. **फ़ंक्शन कॉलिंग का समर्थन करने वाले LLM को प्रारंभ करें:**

    सभी मॉडल फ़ंक्शन कॉलिंग का समर्थन नहीं करते हैं, इसलिए यह सुनिश्चित करना महत्वपूर्ण है कि आप जिस LLM का उपयोग कर रहे हैं वह करता है। <a href="https://learn.microsoft.com/azure/ai-services/openai/how-to/function-calling" target="_blank">Azure OpenAI</a> फ़ंक्शन कॉलिंग का समर्थन करता है। हम Azure OpenAI क्लाइंट को प्रारंभ करके शुरू कर सकते हैं।

    ```python
    # Initialize the Azure OpenAI client
    client = AzureOpenAI(
        azure_endpoint = os.getenv("AZURE_OPENAI_ENDPOINT"), 
        api_key=os.getenv("AZURE_OPENAI_API_KEY"),  
        api_version="2024-05-01-preview"
    )
    ```

1. **एक फ़ंक्शन स्कीमा बनाएं:**

    इसके बाद हम एक JSON स्कीमा परिभाषित करेंगे जिसमें फ़ंक्शन का नाम, फ़ंक्शन क्या करता है इसका विवरण, और फ़ंक्शन पैरामीटर के नाम और विवरण शामिल होंगे।  
    हम इस स्कीमा को पहले बनाए गए क्लाइंट और उपयोगकर्ता के अनुरोध के साथ पास करेंगे ताकि सैन फ्रांसिस्को में समय का पता लगाया जा सके। ध्यान देने वाली बात यह है कि एक **टूल कॉल** लौटाई जाती है, **प्रश्न का अंतिम उत्तर नहीं**। जैसा कि पहले उल्लेख किया गया था, LLM कार्य के लिए चयनित फ़ंक्शन का नाम और उसे पास किए जाने वाले तर्क लौटाता है।

    ```python
    # Function description for the model to read
    tools = [
        {
            "type": "function",
            "function": {
                "name": "get_current_time",
                "description": "Get the current time in a given location",
                "parameters": {
                    "type": "object",
                    "properties": {
                        "location": {
                            "type": "string",
                            "description": "The city name, e.g. San Francisco",
                        },
                    },
                    "required": ["location"],
                },
            }
        }
    ]
    ```
   
    ```python
  
    # Initial user message
    messages = [{"role": "user", "content": "What's the current time in San Francisco"}] 
  
    # First API call: Ask the model to use the function
      response = client.chat.completions.create(
          model=deployment_name,
          messages=messages,
          tools=tools,
          tool_choice="auto",
      )
  
      # Process the model's response
      response_message = response.choices[0].message
      messages.append(response_message)
  
      print("Model's response:")  

      print(response_message)
  
    ```

    ```bash
    Model's response:
    ChatCompletionMessage(content=None, role='assistant', function_call=None, tool_calls=[ChatCompletionMessageToolCall(id='call_pOsKdUlqvdyttYB67MOj434b', function=Function(arguments='{"location":"San Francisco"}', name='get_current_time'), type='function')])
    ```
  
1. **कार्य को पूरा करने के लिए आवश्यक फ़ंक्शन कोड:**

    अब जब LLM ने यह चुन लिया है कि कौन सा फ़ंक्शन चलाना है, तो उस कार्य को पूरा करने के लिए कोड को लागू और क्रियान्वित करने की आवश्यकता है।  
    हम वर्तमान समय प्राप्त करने के लिए Python में कोड लागू कर सकते हैं। हमें response_message से नाम और तर्क निकालने के लिए कोड भी लिखना होगा ताकि अंतिम परिणाम प्राप्त हो सके।

    ```python
      def get_current_time(location):
        """Get the current time for a given location"""
        print(f"get_current_time called with location: {location}")  
        location_lower = location.lower()
        
        for key, timezone in TIMEZONE_DATA.items():
            if key in location_lower:
                print(f"Timezone found for {key}")  
                current_time = datetime.now(ZoneInfo(timezone)).strftime("%I:%M %p")
                return json.dumps({
                    "location": location,
                    "current_time": current_time
                })
      
        print(f"No timezone data found for {location_lower}")  
        return json.dumps({"location": location, "current_time": "unknown"})
    ```

    ```python
     # Handle function calls
      if response_message.tool_calls:
          for tool_call in response_message.tool_calls:
              if tool_call.function.name == "get_current_time":
     
                  function_args = json.loads(tool_call.function.arguments)
     
                  time_response = get_current_time(
                      location=function_args.get("location")
                  )
     
                  messages.append({
                      "tool_call_id": tool_call.id,
                      "role": "tool",
                      "name": "get_current_time",
                      "content": time_response,
                  })
      else:
          print("No tool calls were made by the model.")  
  
      # Second API call: Get the final response from the model
      final_response = client.chat.completions.create(
          model=deployment_name,
          messages=messages,
      )
  
      return final_response.choices[0].message.content
     ```

    ```bash
      get_current_time called with location: San Francisco
      Timezone found for san francisco
      The current time in San Francisco is 09:24 AM.
     ```

फ़ंक्शन कॉलिंग अधिकांश, यदि सभी नहीं, एजेंट टूल उपयोग डिज़ाइन का केंद्र है, हालांकि इसे शुरू से लागू करना कभी-कभी चुनौतीपूर्ण हो सकता है।  
जैसा कि हमने [पाठ 2](../../../02-explore-agentic-frameworks) में सीखा, एजेंटिक फ्रेमवर्क हमें टूल उपयोग को लागू करने के लिए पूर्व-निर्मित निर्माण खंड प्रदान करते हैं।

## एजेंटिक फ्रेमवर्क्स के साथ टूल उपयोग के उदाहरण

यहां कुछ उदाहरण दिए गए हैं कि आप विभिन्न एजेंटिक फ्रेमवर्क्स का उपयोग करके टूल उपयोग डिज़ाइन पैटर्न को कैसे लागू कर सकते हैं:

### सेमांटिक कर्नेल

<a href="https://learn.microsoft.com/azure/ai-services/agents/overview" target="_blank">सेमांटिक कर्नेल</a> .NET, Python, और Java डेवलपर्स के लिए एक ओपन-सोर्स एआई फ्रेमवर्क है जो बड़े भाषा मॉडल्स (LLMs) के साथ काम करते हैं। यह फ़ंक्शन कॉलिंग का उपयोग करने की प्रक्रिया को सरल बनाता है।  
... 

(बाकी सामग्री का अनुवाद जारी रखें)
Azure AI Foundry Discord में शामिल हों [Azure AI Foundry Discord](https://aka.ms/ai-agents/discord) ताकि आप अन्य शिक्षार्थियों से मिल सकें, ऑफिस आवर्स में भाग ले सकें और अपने AI Agents से संबंधित सवालों के जवाब पा सकें।

## अतिरिक्त संसाधन

## पिछला पाठ

[एजेंटिक डिज़ाइन पैटर्न को समझना](../03-agentic-design-patterns/README.md)

## अगला पाठ

[एजेंटिक RAG](../05-agentic-rag/README.md)

---

**अस्वीकरण**:  
यह दस्तावेज़ AI अनुवाद सेवा [Co-op Translator](https://github.com/Azure/co-op-translator) का उपयोग करके अनुवादित किया गया है। जबकि हम सटीकता के लिए प्रयासरत हैं, कृपया ध्यान दें कि स्वचालित अनुवाद में त्रुटियां या अशुद्धियां हो सकती हैं। मूल भाषा में उपलब्ध मूल दस्तावेज़ को आधिकारिक स्रोत माना जाना चाहिए। महत्वपूर्ण जानकारी के लिए, पेशेवर मानव अनुवाद की सिफारिश की जाती है। इस अनुवाद के उपयोग से उत्पन्न किसी भी गलतफहमी या गलत व्याख्या के लिए हम उत्तरदायी नहीं हैं।